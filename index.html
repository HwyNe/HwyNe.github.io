<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Entropy - Cybersecurity & Developer Tools</title>
    <meta name="description"
        content="Digital Entropy: Professional cybersecurity toolkit featuring Base64, MD5/SHA hashing, RSA/AES encryption, cipher tools, and developer utilities.">
    <meta name="keywords"
        content="digital entropy, cybersecurity tools, ctf tools, rsa encryption, aes encryption, base64 decode, md5 hash, sha256">
    <meta name="author" content="Digital Entropy">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.19.0/js/md5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsencrypt/3.3.2/jsencrypt.min.js"></script>
    <style>
        :root {
            --primary: #06b6d4;
            --primary-dark: #0891b2;
            --bg: #0b1220;
            --sidebar-bg: #071223;
            --text-main: #e6f0f6;
            --text-muted: #94a3b8;
            --border: rgba(255,255,255,0.03);
            --panel-bg: #0f1724;
            --hover-bg: rgba(255,255,255,0.02);
            --card-shadow: rgba(2,6,23,0.6);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--bg);
            color: var(--text-main);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        .sidebar {
            width: 260px;
            background: linear-gradient(180deg,var(--sidebar-bg), rgba(7,18,35,0.9));
            border-right: 1px solid rgba(255,255,255,0.03);
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
        }
        .logo {
            padding: 20px;
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary);
            border-bottom: 1px solid rgba(255,255,255,0.03);
        }

        .nav-group {
            padding: 10px 0;
        }

        .nav-header {
            padding: 10px 20px 5px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--text-muted);
            letter-spacing: 0.05em;
        }

        .nav-item {
            padding: 8px 20px;
            cursor: pointer;
            font-size: 0.9rem;
            color: var(--text-main);
            transition: all 0.2s;
            border-left: 3px solid transparent;
            opacity: 0.95;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.02);
        }

        .nav-item.active {
            background: linear-gradient(90deg, rgba(6,182,212,0.08), rgba(6,182,212,0.02));
            color: var(--primary);
            border-left-color: var(--primary);
            font-weight: 600;
        }

        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .header {
            height: 60px;
            background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
            border-bottom: 1px solid rgba(255,255,255,0.03);
            display: flex;
            align-items: center;
            padding: 0 30px;
            justify-content: space-between;
            flex-shrink: 0;
        }

        .header h2 {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .content-scroll {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }

        .tool-container {
            max-width: 900px;
            margin: 0 auto;
            display: none;
            animation: fadeIn 0.2s ease-out;
            position: relative;
            padding-top: 0;
            min-height: 0;
        }

        .tool-container.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .panel {
            background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
            padding: 25px;
            border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.03);
            box-shadow: 0 4px 18px var(--card-shadow);
            margin-top: 0;
            position: relative;
        }

        .panel h3 {
            margin-bottom: 8px;
            font-size: 1.3rem;
        }

        .panel>p {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 0.9rem;
        }

        textarea,
        input[type="text"],
        input[type="number"],
        select {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(255,255,255,0.03);
            border-radius: 6px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            transition: border 0.2s;
            background: rgba(255,255,255,0.02);
            color: var(--text-main);
        }

        textarea:focus,
        input:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(6,182,212,0.06);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        button {
            padding: 9px 18px;
            border: 1px solid rgba(255,255,255,0.03);
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.15s;
            color: var(--text-main);
        }

        button:hover {
            background: rgba(255,255,255,0.02);
            border-color: rgba(255,255,255,0.06);
        }

        button.primary {
            background: linear-gradient(90deg,var(--primary),var(--primary-dark));
            color: #052021;
            border-color: rgba(0,0,0,0.05);
        }

        button.primary:hover {
            filter: brightness(0.95);
        }

        button.danger {
            color: #fecaca;
            border-color: rgba(252,165,165,0.12);
            background: rgba(252,165,165,0.03);
        }

        .result-box {
            margin-top: 20px;
        }

        .color-preview {
            height: 60px;
            border-radius: 6px;
            border: 1px solid rgba(255,255,255,0.03);
            margin-top: 10px;
        }

        #qrcode {
            text-align: center;
            margin-top: 20px;
        }

        #qrcode img {
            display: inline-block;
            margin: 20px auto;
        }

        input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
        }

        input[type="range"] {
            width: 100%;
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                max-height: 200px;
            }

            .content-scroll {
                padding: 15px;
            }
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <div class="logo">Digital Entropy</div>
        <div class="nav-group">
            <div class="nav-header">Encoding</div>
            <div class="nav-item" onclick="showTool('t-base64', 'Base64 Converter')">Base64</div>
            <div class="nav-item" onclick="showTool('t-url', 'URL Encode/Decode')">URL Encode</div>
            <div class="nav-item" onclick="showTool('t-html', 'HTML Entity')">HTML Entity</div>
            <div class="nav-item" onclick="showTool('t-hex', 'Hex Converter')">Hex</div>
            <div class="nav-item" onclick="showTool('t-bin', 'Binary Converter')">Binary</div>
            <div class="nav-item" onclick="showTool('t-base32', 'Base32 Converter')">Base32</div>
        </div>
        <div class="nav-group">
            <div class="nav-header">Encryption</div>
            <div class="nav-item" onclick="showTool('t-rsa', 'RSA Encryption')">RSA</div>
            <div class="nav-item" onclick="showTool('t-aes', 'AES Encryption')">AES (All)</div>
            <div class="nav-item" onclick="showTool('t-des', 'DES Encryption')">DES</div>
            <div class="nav-item" onclick="showTool('t-tripledes', 'Triple DES')">Triple DES</div>
            <div class="nav-item" onclick="showTool('t-rabbit', 'Rabbit Encryption')">Rabbit</div>
            <div class="nav-item" onclick="showTool('t-rc4', 'RC4 Encryption')">RC4</div>
        </div>
        <div class="nav-group">
            <div class="nav-header">Ciphers</div>
            <div class="nav-item" onclick="showTool('t-rot13', 'ROT13 Cipher')">ROT13</div>
            <div class="nav-item" onclick="showTool('t-caesar', 'Caesar Cipher')">Caesar</div>
            <div class="nav-item" onclick="showTool('t-vigenere', 'Vigenere Cipher')">Vigenere</div>
            <div class="nav-item" onclick="showTool('t-morse', 'Morse Code')">Morse Code</div>
        </div>
        <div class="nav-group">
            <div class="nav-header">Hashing</div>
            <div class="nav-item" onclick="showTool('t-md5', 'MD5 Hash')">MD5</div>
            <div class="nav-item" onclick="showTool('t-sha', 'SHA Hashing')">SHA1/256</div>
        </div>
        <div class="nav-group">
            <div class="nav-header">Text Tools</div>
            <div class="nav-item" onclick="showTool('t-case', 'Case Converter')">Case Converter</div>
            <div class="nav-item" onclick="showTool('t-count', 'Word/Char Counter')">Counter</div>
            <div class="nav-item" onclick="showTool('t-lorem', 'Lorem Ipsum')">Lorem Ipsum</div>
            <div class="nav-item" onclick="showTool('t-diff', 'Diff Checker')">Diff Checker</div>
            <div class="nav-item" onclick="showTool('t-regex', 'Regex Tester')">Regex Tester</div>
        </div>
        <div class="nav-group">
            <div class="nav-header">Dev Utils</div>
            <div class="nav-item" onclick="showTool('t-json', 'JSON Formatter')">JSON Tools</div>
            <div class="nav-item" onclick="showTool('t-color', 'Color Converter')">Color Picker</div>
            <div class="nav-item" onclick="showTool('t-qr', 'QR Generator')">QR Code</div>
            <div class="nav-item" onclick="showTool('t-uuid', 'UUID Generator')">UUID</div>
            <div class="nav-item" onclick="showTool('t-pass', 'Password Generator')">Password</div>
        </div>
    </div>

    <div class="main">
        <div class="header">
            <h2 id="page-title">Select a Tool</h2>
        </div>

        <div class="content-scroll">
            <!-- Base64 -->
            <div id="t-base64" class="tool-container">
                <div class="panel">
                    <h3>Base64 Encode & Decode</h3>
                    <p>Convert text to and from Base64 encoding.</p>
                    <div class="group">
                        <label>Input Text</label>
                        <textarea id="b64-in" placeholder="Type or paste content here..."></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doBase64('enc')">Encode to Base64</button>
                        <button class="primary" onclick="doBase64('dec')">Decode from Base64</button>
                        <button class="danger" onclick="clearInput('t-base64')">Clear</button>
                    </div>
                    <div class="result-box">
                        <label>Result</label>
                        <textarea id="b64-out" readonly></textarea>
                        <div class="btn-group">
                            <button onclick="copyText('b64-out', this)">Copy Result</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- URL -->
            <div id="t-url" class="tool-container">
                <div class="panel">
                    <h3>URL Encoder / Decoder</h3>
                    <p>Encode or decode URL components.</p>
                    <div class="group">
                        <label>Input URL</label>
                        <textarea id="url-in" placeholder="https://example.com/search?q=hello world"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doUrl('enc')">Encode URL</button>
                        <button class="primary" onclick="doUrl('dec')">Decode URL</button>
                        <button class="danger" onclick="clearInput('t-url')">Clear</button>
                    </div>
                    <div class="result-box">
                        <label>Result</label>
                        <textarea id="url-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('url-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- HTML -->
            <div id="t-html" class="tool-container">
                <div class="panel">
                    <h3>HTML Entities Converter</h3>
                    <p>Escape and unescape HTML entities.</p>
                    <div class="group">
                        <label>HTML / Text</label>
                        <textarea id="html-in" placeholder="<div>Content</div>"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doHtml('enc')">Escape HTML</button>
                        <button class="primary" onclick="doHtml('dec')">Unescape HTML</button>
                    </div>
                    <div class="result-box">
                        <textarea id="html-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('html-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- HEX -->
            <div id="t-hex" class="tool-container">
                <div class="panel">
                    <h3>Hex Converter</h3>
                    <p>Convert text to hexadecimal and back.</p>
                    <div class="group">
                        <label>Input</label>
                        <textarea id="hex-in" placeholder="Text or Hex string"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doHex('enc')">Text to Hex</button>
                        <button class="primary" onclick="doHex('dec')">Hex to Text</button>
                    </div>
                    <div class="result-box">
                        <textarea id="hex-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('hex-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- BINARY -->
            <div id="t-bin" class="tool-container">
                <div class="panel">
                    <h3>Binary Converter</h3>
                    <p>Convert text to binary and back.</p>
                    <div class="group"><label>Input</label><textarea id="bin-in" placeholder="Text or Binary"></textarea></div>
                    <div class="btn-group"><button class="primary" onclick="doBin('enc')">Text to Binary</button><button
                            class="primary" onclick="doBin('dec')">Binary to Text</button></div>
                    <div class="result-box"><textarea id="bin-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('bin-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Base32 -->
            <div id="t-base32" class="tool-container">
                <div class="panel">
                    <h3>Base32 Encode & Decode</h3>
                    <p>Convert data using Base32 encoding.</p>
                    <div class="group">
                        <label>Input</label>
                        <textarea id="base32-in"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doBase32('enc')">Encode</button>
                        <button class="primary" onclick="doBase32('dec')">Decode</button>
                    </div>
                    <div class="result-box">
                        <textarea id="base32-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('base32-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- RSA -->
            <div id="t-rsa" class="tool-container">
                <div class="panel">
                    <h3>RSA Encryption/Decryption</h3>
                    <p>Generate RSA key pairs and encrypt/decrypt messages.</p>
                    <div class="group">
                        <label>Key Size</label>
                        <select id="rsa-keysize">
                            <option value="512">512 bits</option>
                            <option value="1024" selected>1024 bits</option>
                            <option value="2048">2048 bits</option>
                        </select>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doRsaGenerate()">Generate Key Pair</button>
                    </div>
                    <div class="group">
                        <label>Public Key</label>
                        <textarea id="rsa-public" readonly style="height: 100px"></textarea>
                    </div>
                    <div class="group">
                        <label>Private Key</label>
                        <textarea id="rsa-private" readonly style="height: 100px"></textarea>
                    </div>
                    <div class="group">
                        <label>Message</label>
                        <textarea id="rsa-msg"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doRsa('enc')">Encrypt</button>
                        <button class="primary" onclick="doRsa('dec')">Decrypt</button>
                    </div>
                    <div class="result-box">
                        <label>Result</label>
                        <textarea id="rsa-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('rsa-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- AES -->
            <div id="t-aes" class="tool-container">
                <div class="panel">
                    <h3>AES Encryption/Decryption (All Modes)</h3>
                    <p>Advanced Encryption Standard with multiple key sizes: AES-128, AES-192, AES-256, and AES-512.</p>
                    <div class="group">
                        <label>AES Mode</label>
                        <select id="aes-mode">
                            <option value="128">AES-128</option>
                            <option value="192">AES-192</option>
                            <option value="256" selected>AES-256</option>
                            <option value="512">AES-512</option>
                        </select>
                    </div>
                    <div class="group">
                        <label>Secret Key (Password)</label>
                        <input type="text" id="aes-key" placeholder="Enter a strong password">
                    </div>
                    <div class="group">
                        <label>Message</label>
                        <textarea id="aes-msg"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doAes('enc')">Encrypt</button>
                        <button class="primary" onclick="doAes('dec')">Decrypt</button>
                    </div>
                    <div class="result-box">
                        <label>Result</label>
                        <textarea id="aes-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('aes-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- DES -->
            <div id="t-des" class="tool-container">
                <div class="panel">
                    <h3>DES Encryption/Decryption</h3>
                    <p>Data Encryption Standard - classic symmetric encryption algorithm.</p>
                    <div class="group">
                        <label>Secret Key (Password)</label>
                        <input type="text" id="des-key" placeholder="Enter password">
                    </div>
                    <div class="group">
                        <label>Message</label>
                        <textarea id="des-msg"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doDes('enc')">Encrypt</button>
                        <button class="primary" onclick="doDes('dec')">Decrypt</button>
                    </div>
                    <div class="result-box">
                        <label>Result</label>
                        <textarea id="des-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('des-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Triple DES -->
            <div id="t-tripledes" class="tool-container">
                <div class="panel">
                    <h3>Triple DES (3DES) Encryption</h3>
                    <p>Enhanced DES with triple encryption for better security.</p>
                    <div class="group">
                        <label>Secret Key (Password)</label>
                        <input type="text" id="tripledes-key" placeholder="Enter password">
                    </div>
                    <div class="group">
                        <label>Message</label>
                        <textarea id="tripledes-msg"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doTripleDes('enc')">Encrypt</button>
                        <button class="primary" onclick="doTripleDes('dec')">Decrypt</button>
                    </div>
                    <div class="result-box">
                        <label>Result</label>
                        <textarea id="tripledes-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('tripledes-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Rabbit -->
            <div id="t-rabbit" class="tool-container">
                <div class="panel">
                    <h3>Rabbit Stream Cipher</h3>
                    <p>High-performance stream cipher designed for speed and security.</p>
                    <div class="group">
                        <label>Secret Key (Password)</label>
                        <input type="text" id="rabbit-key" placeholder="Enter password">
                    </div>
                    <div class="group">
                        <label>Message</label>
                        <textarea id="rabbit-msg"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doRabbit('enc')">Encrypt</button>
                        <button class="primary" onclick="doRabbit('dec')">Decrypt</button>
                    </div>
                    <div class="result-box">
                        <label>Result</label>
                        <textarea id="rabbit-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('rabbit-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- RC4 -->
            <div id="t-rc4" class="tool-container">
                <div class="panel">
                    <h3>RC4 Stream Cipher</h3>
                    <p>Rivest Cipher 4 - widely used stream cipher (educational purposes).</p>
                    <div class="group">
                        <label>Secret Key (Password)</label>
                        <input type="text" id="rc4-key" placeholder="Enter password">
                    </div>
                    <div class="group">
                        <label>Message</label>
                        <textarea id="rc4-msg"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doRc4('enc')">Encrypt</button>
                        <button class="primary" onclick="doRc4('dec')">Decrypt</button>
                    </div>
                    <div class="result-box">
                        <label>Result</label>
                        <textarea id="rc4-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('rc4-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- ROT13 -->
            <div id="t-rot13" class="tool-container">
                <div class="panel">
                    <h3>ROT13 Cipher</h3>
                    <p>Rotate characters by 13 positions.</p>
                    <div class="group"><label>Input</label><textarea id="rot13-in"></textarea></div>
                    <div class="btn-group"><button class="primary" onclick="doRot13()">Transform</button></div>
                    <div class="result-box"><textarea id="rot13-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('rot13-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Caesar -->
            <div id="t-caesar" class="tool-container">
                <div class="panel">
                    <h3>Caesar Cipher</h3>
                    <p>Shift characters by a custom amount.</p>
                    <div class="group"><label>Input</label><textarea id="caesar-in"></textarea></div>
                    <div class="group"><label>Shift Amount</label><input type="number" id="caesar-shift" value="3"></div>
                    <div class="btn-group"><button class="primary" onclick="doCaesar('enc')">Encrypt</button><button
                            class="primary" onclick="doCaesar('dec')">Decrypt</button></div>
                    <div class="result-box"><textarea id="caesar-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('caesar-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Vigenere -->
            <div id="t-vigenere" class="tool-container">
                <div class="panel">
                    <h3>Vigen√®re Cipher</h3>
                    <p>Polyalphabetic substitution cipher.</p>
                    <div class="group"><label>Input</label><textarea id="vigenere-in"></textarea></div>
                    <div class="group"><label>Secret Key</label><input type="text" id="vigenere-key" placeholder="SECRET"></div>
                    <div class="btn-group"><button class="primary" onclick="doVigenere('enc')">Encrypt</button><button
                            class="primary" onclick="doVigenere('dec')">Decrypt</button></div>
                    <div class="result-box"><textarea id="vigenere-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('vigenere-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Morse -->
            <div id="t-morse" class="tool-container">
                <div class="panel">
                    <h3>Morse Code Translator</h3>
                    <p>Convert text to Morse code and back.</p>
                    <div class="group"><label>Input</label><textarea id="morse-in"></textarea></div>
                    <div class="btn-group"><button class="primary" onclick="doMorse('enc')">Text to Morse</button><button
                            class="primary" onclick="doMorse('dec')">Morse to Text</button></div>
                    <div class="result-box"><textarea id="morse-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('morse-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- MD5 -->
            <div id="t-md5" class="tool-container">
                <div class="panel">
                    <h3>MD5 Hash Generator</h3>
                    <p>Generate MD5 hash of text.</p>
                    <div class="group">
                        <label>Input Text</label>
                        <textarea id="md5-in" placeholder="Text to hash..."></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doMd5()">Generate MD5</button>
                    </div>
                    <div class="result-box">
                        <label>MD5 Output</label>
                        <input type="text" id="md5-out" readonly>
                        <div class="btn-group"><button onclick="copyText('md5-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- SHA -->
            <div id="t-sha" class="tool-container">
                <div class="panel">
                    <h3>SHA Hash Generator</h3>
                    <p>Generate SHA-1, SHA-256, or SHA-512 hashes.</p>
                    <div class="group">
                        <label>Input Text</label>
                        <textarea id="sha-in"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doSha(1)">SHA-1</button>
                        <button class="primary" onclick="doSha(256)">SHA-256</button>
                        <button class="primary" onclick="doSha(512)">SHA-512</button>
                    </div>
                    <div class="result-box">
                        <label>Hash Output</label>
                        <textarea id="sha-out" readonly style="height: 60px"></textarea>
                        <div class="btn-group"><button onclick="copyText('sha-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Case -->
            <div id="t-case" class="tool-container">
                <div class="panel">
                    <h3>Text Case Converter</h3>
                    <p>Convert text to different cases.</p>
                    <div class="group"><label>Input</label><textarea id="case-in"></textarea></div>
                    <div class="btn-group">
                        <button class="primary" onclick="doCase('upper')">UPPERCASE</button>
                        <button class="primary" onclick="doCase('lower')">lowercase</button>
                        <button class="primary" onclick="doCase('title')">Title Case</button>
                        <button class="primary" onclick="doCase('camel')">camelCase</button>
                    </div>
                    <div class="result-box"><textarea id="case-out" readonly></textarea>
                        <div class="btn-group"><button onclick="copyText('case-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Counter -->
            <div id="t-count" class="tool-container">
                <div class="panel">
                    <h3>Word & Character Counter</h3>
                    <p>Count words, characters, and lines in your text.</p>
                    <div class="group"><label>Input</label><textarea id="count-in" oninput="doCount()"></textarea></div>
                    <div class="group">
                        <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px;">
                            <div style="background:rgba(255,255,255,0.02); padding:10px; border-radius:4px">Words: <strong
                                    id="cnt-words">0</strong></div>
                            <div style="background:rgba(255,255,255,0.02); padding:10px; border-radius:4px">Chars: <strong
                                    id="cnt-chars">0</strong></div>
                            <div style="background:rgba(255,255,255,0.02); padding:10px; border-radius:4px">Lines: <strong
                                    id="cnt-lines">0</strong></div>
                            <div style="background:rgba(255,255,255,0.02); padding:10px; border-radius:4px">No Space: <strong
                                    id="cnt-nospace">0</strong></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Lorem -->
            <div id="t-lorem" class="tool-container">
                <div class="panel">
                    <h3>Lorem Ipsum Generator</h3>
                    <p>Generate placeholder text.</p>
                    <div class="group"><label>Number of Paragraphs</label><input type="number" id="lorem-count"
                            value="3" min="1" max="50"></div>
                    <div class="btn-group"><button class="primary" onclick="doLorem()">Generate</button></div>
                    <div class="result-box"><textarea id="lorem-out" readonly style="height:300px"></textarea>
                        <div class="btn-group"><button onclick="copyText('lorem-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Diff -->
            <div id="t-diff" class="tool-container">
                <div class="panel">
                    <h3>Text Diff Checker</h3>
                    <p>Compare two texts and see the differences.</p>
                    <div class="group"><label>Text 1</label><textarea id="diff-1"></textarea></div>
                    <div class="group"><label>Text 2</label><textarea id="diff-2"></textarea></div>
                    <div class="btn-group"><button class="primary" onclick="doDiff()">Compare</button></div>
                    <div class="result-box"><textarea id="diff-out" readonly style="height:200px"></textarea></div>
                </div>
            </div>

            <!-- Regex -->
            <div id="t-regex" class="tool-container">
                <div class="panel">
                    <h3>Regex Tester</h3>
                    <p>Test regular expressions.</p>
                    <div class="group"><label>Pattern</label><input type="text" id="regex-pattern" placeholder="^[a-z]+$"></div>
                    <div class="group"><label>Flags</label><input type="text" id="regex-flags" placeholder="gi" value="g"></div>
                    <div class="group"><label>Test String</label><textarea id="regex-test"></textarea></div>
                    <div class="btn-group"><button class="primary" onclick="doRegex()">Test</button></div>
                    <div class="result-box"><textarea id="regex-out" readonly></textarea></div>
                </div>
            </div>

            <!-- JSON -->
            <div id="t-json" class="tool-container">
                <div class="panel">
                    <h3>JSON Formatter & Minifier</h3>
                    <p>Format or minify JSON data.</p>
                    <div class="group">
                        <label>JSON Input</label>
                        <textarea id="json-in"></textarea>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doJson('fmt')">Format</button>
                        <button class="primary" onclick="doJson('min')">Minify</button>
                    </div>
                    <div class="result-box">
                        <textarea id="json-out" readonly style="min-height: 200px"></textarea>
                        <div class="btn-group"><button onclick="copyText('json-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Color -->
            <div id="t-color" class="tool-container">
                <div class="panel">
                    <h3>Color Converter</h3>
                    <p>Convert between color formats.</p>
                    <div class="group"><label>Color Picker</label><input type="color" id="color-pick" value="#06b6d4" oninput="doColorPick()"></div>
                    <div class="group"><label>HEX</label><input type="text" id="color-hex" placeholder="#06b6d4"></div>
                    <div class="group"><label>RGB</label><input type="text" id="color-rgb" placeholder="rgb(6, 182, 212)"></div>
                    <div class="group"><label>HSL</label><input type="text" id="color-hsl" placeholder="hsl(187, 94%, 43%)"></div>
                    <div class="btn-group"><button class="primary" onclick="doColor()">Convert</button></div>
                    <div class="color-preview" id="color-preview"></div>
                </div>
            </div>

            <!-- QR -->
            <div id="t-qr" class="tool-container">
                <div class="panel">
                    <h3>QR Code Generator</h3>
                    <p>Generate QR codes from text.</p>
                    <div class="group"><label>Text/URL</label><textarea id="qr-text" placeholder="Enter text or URL"></textarea></div>
                    <div class="btn-group"><button class="primary" onclick="doQr()">Generate QR Code</button></div>
                    <div id="qrcode"></div>
                </div>
            </div>

            <!-- UUID -->
            <div id="t-uuid" class="tool-container">
                <div class="panel">
                    <h3>UUID Generator</h3>
                    <p>Generate universally unique identifiers.</p>
                    <div class="group">
                        <label>Number of UUIDs</label>
                        <div class="btn-group" style="margin-bottom: 10px">
                            <input type="number" id="uuid-count" value="1" min="1" max="50" style="width: 80px">
                            <button class="primary" onclick="doUuid()">Generate</button>
                        </div>
                        <textarea id="uuid-out" readonly style="height: 200px"></textarea>
                        <div class="btn-group"><button onclick="copyText('uuid-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

            <!-- Password -->
            <div id="t-pass" class="tool-container">
                <div class="panel">
                    <h3>Secure Password Generator</h3>
                    <p>Generate strong random passwords.</p>
                    <div class="group">
                        <label>Length: <span id="pass-len-val">16</span></label>
                        <input type="range" id="pass-len" min="6" max="64" value="16"
                            oninput="document.getElementById('pass-len-val').textContent=this.value">
                    </div>
                    <div class="group">
                        <label><input type="checkbox" id="pass-upper" checked>Uppercase (A-Z)</label>
                        <label><input type="checkbox" id="pass-lower" checked>Lowercase (a-z)</label>
                        <label><input type="checkbox" id="pass-num" checked>Numbers (0-9)</label>
                        <label><input type="checkbox" id="pass-sym" checked>Symbols (!@#$)</label>
                    </div>
                    <div class="btn-group">
                        <button class="primary" onclick="doPass()">Generate Password</button>
                    </div>
                    <div class="result-box">
                        <input type="text" id="pass-out" readonly style="font-size: 1.2em; text-align: center;">
                        <div class="btn-group"><button onclick="copyText('pass-out', this)">Copy</button></div>
                    </div>
                </div>
            </div>

        </div>
    </div>

<script>
// Core UI functions
function showTool(id, title) {
    document.getElementById('page-title').textContent = title || 'Select a Tool';
    document.querySelectorAll('.tool-container').forEach(el => el.classList.remove('active'));
    var sel = document.getElementById(id);
    if (sel) sel.classList.add('active');
    var cs = document.querySelector('.content-scroll');
    if(cs) cs.scrollTop = 0;
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    var clickedNav = event ? event.target : null;
    if (clickedNav && clickedNav.classList.contains('nav-item')) {
        clickedNav.classList.add('active');
    }
}

function copyText(elId, btn) {
    var el = document.getElementById(elId);
    if (!el) return;
    var val = el.value || el.textContent || '';
    if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(val);
        if (btn) {
            var oldText = btn.textContent;
            btn.textContent = 'Copied!';
            setTimeout(() => btn.textContent = oldText, 1000);
        }
        return;
    }
    try {
        if (el.select) el.select();
        document.execCommand('copy');
    } catch(e){}
}

function clearInput(toolId) {
    var container = document.getElementById(toolId);
    if (!container) return;
    container.querySelectorAll('textarea,input').forEach(i => {
        if (i.type === 'checkbox') i.checked = false;
        else if (i.type !== 'button') i.value = '';
    });
}

// Base64
function doBase64(mode){
    var input = document.getElementById('b64-in').value || '';
    try{
        if(mode==='enc'){
            document.getElementById('b64-out').value = btoa(unescape(encodeURIComponent(input)));
        } else {
            document.getElementById('b64-out').value = decodeURIComponent(escape(atob(input)));
        }
    }catch(e){ document.getElementById('b64-out').value = 'Error: ' + e.message; }
}

// URL
function doUrl(mode){
    var v = document.getElementById('url-in').value || '';
    try {
        document.getElementById('url-out').value = (mode==='enc') ? encodeURIComponent(v) : decodeURIComponent(v);
    } catch(e) {
        document.getElementById('url-out').value = 'Error: ' + e.message;
    }
}

// HTML
function doHtml(mode){
    var v = document.getElementById('html-in').value || '';
    if(mode==='enc'){
        document.getElementById('html-out').value = v
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#39;');
    } else {
        document.getElementById('html-out').value = v
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&quot;/g, '"')
            .replace(/&#39;/g, "'")
            .replace(/&amp;/g, '&');
    }
}

// Hex
function doHex(mode){
    var v = document.getElementById('hex-in').value || '';
    try {
        if(mode==='enc'){
            document.getElementById('hex-out').value = Array.from(v)
                .map(c => c.charCodeAt(0).toString(16).padStart(2, '0'))
                .join('');
        } else {
            document.getElementById('hex-out').value = v.match(/.{1,2}/g)
                .map(byte => String.fromCharCode(parseInt(byte, 16)))
                .join('');
        }
    } catch(e) {
        document.getElementById('hex-out').value = 'Error: ' + e.message;
    }
}

// Binary
function doBin(mode){
    var v = document.getElementById('bin-in').value || '';
    try {
        if(mode==='enc'){
            document.getElementById('bin-out').value = Array.from(v)
                .map(c => c.charCodeAt(0).toString(2).padStart(8, '0'))
                .join(' ');
        } else {
            document.getElementById('bin-out').value = v.split(/\s+/)
                .map(bin => String.fromCharCode(parseInt(bin, 2)))
                .join('');
        }
    } catch(e) {
        document.getElementById('bin-out').value = 'Error: ' + e.message;
    }
}

// Base32
function doBase32(mode){
    const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567';
    var v = document.getElementById('base32-in').value || '';
    try {
        if(mode==='enc'){
            let bits = '';
            for(let i = 0; i < v.length; i++){
                bits += v.charCodeAt(i).toString(2).padStart(8, '0');
            }
            let result = '';
            for(let i = 0; i < bits.length; i += 5){
                let chunk = bits.substr(i, 5).padEnd(5, '0');
                result += alphabet[parseInt(chunk, 2)];
            }
            while(result.length % 8 !== 0) result += '=';
            document.getElementById('base32-out').value = result;
        } else {
            v = v.toUpperCase().replace(/=+$/, '');
            let bits = '';
            for(let i = 0; i < v.length; i++){
                bits += alphabet.indexOf(v[i]).toString(2).padStart(5, '0');
            }
            let result = '';
            for(let i = 0; i < bits.length; i += 8){
                if(bits.length - i >= 8){
                    result += String.fromCharCode(parseInt(bits.substr(i, 8), 2));
                }
            }
            document.getElementById('base32-out').value = result;
        }
    } catch(e) {
        document.getElementById('base32-out').value = 'Error: ' + e.message;
    }
}

// MD5
function doMd5(){
    var v = document.getElementById('md5-in').value || '';
    if (typeof md5 === 'function') {
        document.getElementById('md5-out').value = md5(v);
    } else {
        document.getElementById('md5-out').value = 'MD5 library not loaded';
    }
}

// SHA
function doSha(bits){
    var v = document.getElementById('sha-in').value || '';
    try{
        if (typeof CryptoJS !== 'undefined') {
            if (bits===1) document.getElementById('sha-out').value = CryptoJS.SHA1(v).toString();
            else if (bits===256) document.getElementById('sha-out').value = CryptoJS.SHA256(v).toString();
            else if (bits===512) document.getElementById('sha-out').value = CryptoJS.SHA512(v).toString();
        } else {
            document.getElementById('sha-out').value = 'CryptoJS library not loaded';
        }
    }catch(e){
        document.getElementById('sha-out').value = 'Error: ' + e.message;
    }
}

// RSA
var rsaCrypt = null;
function doRsaGenerate(){
    var keysize = parseInt(document.getElementById('rsa-keysize').value) || 1024;
    if (typeof JSEncrypt !== 'undefined') {
        rsaCrypt = new JSEncrypt({default_key_size: keysize});
        document.getElementById('rsa-public').value = rsaCrypt.getPublicKey();
        document.getElementById('rsa-private').value = rsaCrypt.getPrivateKey();
    } else {
        alert('JSEncrypt library not loaded');
    }
}

function doRsa(mode){
    var msg = document.getElementById('rsa-msg').value || '';
    if (!rsaCrypt) {
        document.getElementById('rsa-out').value = 'Please generate keys first';
        return;
    }
    try {
        if(mode==='enc'){
            var pub = document.getElementById('rsa-public').value;
            rsaCrypt.setPublicKey(pub);
            document.getElementById('rsa-out').value = rsaCrypt.encrypt(msg) || 'Encryption failed';
        } else {
            var priv = document.getElementById('rsa-private').value;
            rsaCrypt.setPrivateKey(priv);
            document.getElementById('rsa-out').value = rsaCrypt.decrypt(msg) || 'Decryption failed';
        }
    } catch(e) {
        document.getElementById('rsa-out').value = 'Error: ' + e.message;
    }
}

// AES - Multiple modes
function doAes(mode){
    var key = document.getElementById('aes-key').value || '';
    var msg = document.getElementById('aes-msg').value || '';
    var aesMode = document.getElementById('aes-mode').value || '256';
    
    if (!key) {
        document.getElementById('aes-out').value = 'Please enter a password';
        return;
    }
    try {
        if (typeof CryptoJS !== 'undefined') {
            // For AES-512, we'll use AES-256 with extended key (CryptoJS doesn't natively support AES-512)
            // In practice, we'll demonstrate the concept with double encryption
            if(mode==='enc'){
                if(aesMode === '512'){
                    // Simulate AES-512 with double AES-256
                    var firstPass = CryptoJS.AES.encrypt(msg, key).toString();
                    document.getElementById('aes-out').value = CryptoJS.AES.encrypt(firstPass, key + '_secondary').toString();
                } else {
                    // Standard AES encryption (CryptoJS uses AES-256 by default, but we can adjust key size)
                    var keySize = parseInt(aesMode) / 32; // Convert to word size
                    document.getElementById('aes-out').value = CryptoJS.AES.encrypt(msg, key, {
                        keySize: keySize
                    }).toString();
                }
            } else {
                if(aesMode === '512'){
                    // Decrypt double-encrypted AES-512
                    var firstDecrypt = CryptoJS.AES.decrypt(msg, key + '_secondary');
                    var secondDecrypt = CryptoJS.AES.decrypt(firstDecrypt.toString(CryptoJS.enc.Utf8), key);
                    document.getElementById('aes-out').value = secondDecrypt.toString(CryptoJS.enc.Utf8) || 'Decryption failed';
                } else {
                    var keySize = parseInt(aesMode) / 32;
                    var decrypted = CryptoJS.AES.decrypt(msg, key, {
                        keySize: keySize
                    });
                    document.getElementById('aes-out').value = decrypted.toString(CryptoJS.enc.Utf8) || 'Decryption failed';
                }
            }
        } else {
            document.getElementById('aes-out').value = 'CryptoJS library not loaded';
        }
    } catch(e) {
        document.getElementById('aes-out').value = 'Error: ' + e.message;
    }
}

// DES Encryption
function doDes(mode){
    var key = document.getElementById('des-key').value || '';
    var msg = document.getElementById('des-msg').value || '';
    
    if (!key) {
        document.getElementById('des-out').value = 'Please enter a password';
        return;
    }
    try {
        if (typeof CryptoJS !== 'undefined') {
            if(mode==='enc'){
                document.getElementById('des-out').value = CryptoJS.DES.encrypt(msg, key).toString();
            } else {
                var decrypted = CryptoJS.DES.decrypt(msg, key);
                document.getElementById('des-out').value = decrypted.toString(CryptoJS.enc.Utf8) || 'Decryption failed';
            }
        } else {
            document.getElementById('des-out').value = 'CryptoJS library not loaded';
        }
    } catch(e) {
        document.getElementById('des-out').value = 'Error: ' + e.message;
    }
}

// Triple DES Encryption
function doTripleDes(mode){
    var key = document.getElementById('tripledes-key').value || '';
    var msg = document.getElementById('tripledes-msg').value || '';
    
    if (!key) {
        document.getElementById('tripledes-out').value = 'Please enter a password';
        return;
    }
    try {
        if (typeof CryptoJS !== 'undefined') {
            if(mode==='enc'){
                document.getElementById('tripledes-out').value = CryptoJS.TripleDES.encrypt(msg, key).toString();
            } else {
                var decrypted = CryptoJS.TripleDES.decrypt(msg, key);
                document.getElementById('tripledes-out').value = decrypted.toString(CryptoJS.enc.Utf8) || 'Decryption failed';
            }
        } else {
            document.getElementById('tripledes-out').value = 'CryptoJS library not loaded';
        }
    } catch(e) {
        document.getElementById('tripledes-out').value = 'Error: ' + e.message;
    }
}

// Rabbit Cipher
function doRabbit(mode){
    var key = document.getElementById('rabbit-key').value || '';
    var msg = document.getElementById('rabbit-msg').value || '';
    
    if (!key) {
        document.getElementById('rabbit-out').value = 'Please enter a password';
        return;
    }
    try {
        if (typeof CryptoJS !== 'undefined') {
            if(mode==='enc'){
                document.getElementById('rabbit-out').value = CryptoJS.Rabbit.encrypt(msg, key).toString();
            } else {
                var decrypted = CryptoJS.Rabbit.decrypt(msg, key);
                document.getElementById('rabbit-out').value = decrypted.toString(CryptoJS.enc.Utf8) || 'Decryption failed';
            }
        } else {
            document.getElementById('rabbit-out').value = 'CryptoJS library not loaded';
        }
    } catch(e) {
        document.getElementById('rabbit-out').value = 'Error: ' + e.message;
    }
}

// RC4 Stream Cipher
function doRc4(mode){
    var key = document.getElementById('rc4-key').value || '';
    var msg = document.getElementById('rc4-msg').value || '';
    
    if (!key) {
        document.getElementById('rc4-out').value = 'Please enter a password';
        return;
    }
    try {
        if (typeof CryptoJS !== 'undefined') {
            if(mode==='enc'){
                document.getElementById('rc4-out').value = CryptoJS.RC4.encrypt(msg, key).toString();
            } else {
                var decrypted = CryptoJS.RC4.decrypt(msg, key);
                document.getElementById('rc4-out').value = decrypted.toString(CryptoJS.enc.Utf8) || 'Decryption failed';
            }
        } else {
            document.getElementById('rc4-out').value = 'CryptoJS library not loaded';
        }
    } catch(e) {
        document.getElementById('rc4-out').value = 'Error: ' + e.message;
    }
}

// ROT13
function doRot13(){
    var v = document.getElementById('rot13-in').value || '';
    document.getElementById('rot13-out').value = v.replace(/[a-zA-Z]/g, c => {
        return String.fromCharCode(c.charCodeAt(0) + (c.toLowerCase() < 'n' ? 13 : -13));
    });
}

// Caesar
function doCaesar(mode){
    var v = document.getElementById('caesar-in').value || '';
    var shift = parseInt(document.getElementById('caesar-shift').value) || 0;
    if(mode==='dec') shift = -shift;
    document.getElementById('caesar-out').value = v.replace(/[a-zA-Z]/g, c => {
        var base = c <= 'Z' ? 65 : 97;
        return String.fromCharCode(((c.charCodeAt(0) - base + shift + 26) % 26) + base);
    });
}

// Vigenere
function doVigenere(mode){
    var text = document.getElementById('vigenere-in').value || '';
    var key = (document.getElementById('vigenere-key').value || 'KEY').toUpperCase();
    var result = '';
    var keyIndex = 0;
    
    for(let i = 0; i < text.length; i++){
        var c = text[i];
        if(/[a-zA-Z]/.test(c)){
            var base = c <= 'Z' ? 65 : 97;
            var shift = key.charCodeAt(keyIndex % key.length) - 65;
            if(mode==='dec') shift = -shift;
            result += String.fromCharCode(((c.charCodeAt(0) - base + shift + 26) % 26) + base);
            keyIndex++;
        } else {
            result += c;
        }
    }
    document.getElementById('vigenere-out').value = result;
}

// Morse
function doMorse(mode){
    const morse = {
        'A':'.-','B':'-...','C':'-.-.','D':'-..','E':'.','F':'..-.','G':'--.','H':'....',
        'I':'..','J':'.---','K':'-.-','L':'.-..','M':'--','N':'-.','O':'---','P':'.--.',
        'Q':'--.-','R':'.-.','S':'...','T':'-','U':'..-','V':'...-','W':'.--','X':'-..-',
        'Y':'-.--','Z':'--..','0':'-----','1':'.----','2':'..---','3':'...--','4':'....-',
        '5':'.....','6':'-....','7':'--...','8':'---..','9':'----.', ' ':'/'
    };
    var v = document.getElementById('morse-in').value || '';
    
    if(mode==='enc'){
        document.getElementById('morse-out').value = v.toUpperCase()
            .split('').map(c => morse[c] || c).join(' ');
    } else {
        var reverse = {};
        for(let k in morse) reverse[morse[k]] = k;
        document.getElementById('morse-out').value = v.split(' ')
            .map(m => reverse[m] || m).join('');
    }
}

// Case converter
function doCase(t){
    var v = document.getElementById('case-in').value || '';
    if(t==='upper') document.getElementById('case-out').value = v.toUpperCase();
    else if(t==='lower') document.getElementById('case-out').value = v.toLowerCase();
    else if(t==='title') document.getElementById('case-out').value = v.replace(/\w\S*/g, txt => txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase());
    else if(t==='camel') document.getElementById('case-out').value = v.replace(/[^a-zA-Z0-9]+(.)/g, (m,chr) => chr.toUpperCase());
}

// Counter
function doCount(){
    var v = document.getElementById('count-in').value || '';
    var words = v.trim() ? v.trim().split(/\s+/).length : 0;
    document.getElementById('cnt-words').textContent = words;
    document.getElementById('cnt-chars').textContent = v.length;
    document.getElementById('cnt-nospace').textContent = v.replace(/\s+/g,'').length;
    document.getElementById('cnt-lines').textContent = v.split(/\r?\n/).length;
}

// Lorem Ipsum
function doLorem(){
    var n = Math.max(1, Math.min(50, parseInt(document.getElementById('lorem-count').value||3)));
    var p = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.';
    document.getElementById('lorem-out').value = Array.from({length:n}, () => p).join('\n\n');
}

// Diff
function doDiff(){
    var t1 = (document.getElementById('diff-1').value || '').split('\n');
    var t2 = (document.getElementById('diff-2').value || '').split('\n');
    var result = [];
    var maxLen = Math.max(t1.length, t2.length);
    
    for(let i = 0; i < maxLen; i++){
        var line1 = t1[i] || '';
        var line2 = t2[i] || '';
        if(line1 !== line2){
            result.push('Line ' + (i+1) + ':');
            result.push('- ' + line1);
            result.push('+ ' + line2);
        }
    }
    
    document.getElementById('diff-out').value = result.length > 0 ? result.join('\n') : 'No differences found';
}

// Regex
function doRegex(){
    var pattern = document.getElementById('regex-pattern').value || '';
    var flags = document.getElementById('regex-flags').value || 'g';
    var test = document.getElementById('regex-test').value || '';
    
    try {
        var regex = new RegExp(pattern, flags);
        var matches = test.match(regex);
        if(matches){
            document.getElementById('regex-out').value = 'Matches found: ' + matches.length + '\n\n' + matches.join('\n');
        } else {
            document.getElementById('regex-out').value = 'No matches found';
        }
    } catch(e) {
        document.getElementById('regex-out').value = 'Error: ' + e.message;
    }
}

// JSON
function doJson(mode){
    var v = document.getElementById('json-in').value || '';
    try{
        if(mode==='fmt') document.getElementById('json-out').value = JSON.stringify(JSON.parse(v),null,2);
        else document.getElementById('json-out').value = JSON.stringify(JSON.parse(v));
    }catch(e){ document.getElementById('json-out').value = 'Invalid JSON: ' + e.message; }
}

// Color
function doColorPick(){
    var hex = document.getElementById('color-pick').value;
    document.getElementById('color-hex').value = hex;
    doColor();
}

function doColor(){
    var hex = document.getElementById('color-hex').value || '#06b6d4';
    if(!hex.startsWith('#')) hex = '#' + hex;
    
    try {
        var r = parseInt(hex.slice(1,3), 16);
        var g = parseInt(hex.slice(3,5), 16);
        var b = parseInt(hex.slice(5,7), 16);
        
        document.getElementById('color-rgb').value = 'rgb(' + r + ', ' + g + ', ' + b + ')';
        
        r /= 255; g /= 255; b /= 255;
        var max = Math.max(r,g,b), min = Math.min(r,g,b);
        var h, s, l = (max + min) / 2;
        
        if(max === min){
            h = s = 0;
        } else {
            var d = max - min;
            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
            switch(max){
                case r: h = ((g - b) / d + (g < b ? 6 : 0)) / 6; break;
                case g: h = ((b - r) / d + 2) / 6; break;
                case b: h = ((r - g) / d + 4) / 6; break;
            }
        }
        
        document.getElementById('color-hsl').value = 'hsl(' + Math.round(h*360) + ', ' + Math.round(s*100) + '%, ' + Math.round(l*100) + '%)';
        document.getElementById('color-preview').style.background = hex;
    } catch(e) {
        console.error('Color conversion error:', e);
    }
}

// QR Code
function doQr(){
    var text = document.getElementById('qr-text').value || '';
    if(!text) {
        alert('Please enter text or URL');
        return;
    }
    
    var qrDiv = document.getElementById('qrcode');
    qrDiv.innerHTML = '';
    
    if(typeof QRCode !== 'undefined'){
        new QRCode(qrDiv, {
            text: text,
            width: 256,
            height: 256,
            colorDark: '#000000',
            colorLight: '#ffffff'
        });
    } else {
        qrDiv.innerHTML = 'QRCode library not loaded';
    }
}

// UUID
function doUuid(){
    var count = Math.max(1, Math.min(50, parseInt(document.getElementById('uuid-count').value||1)));
    var out = [];
    for(var i=0;i<count;i++){
        var buf = new Uint8Array(16);
        window.crypto.getRandomValues(buf);
        buf[6] = (buf[6] & 0x0f) | 0x40;
        buf[8] = (buf[8] & 0x3f) | 0x80;
        var s = Array.from(buf).map(b => ('0'+b.toString(16)).slice(-2)).join('');
        out.push(s.slice(0,8)+'-'+s.slice(8,12)+'-'+s.slice(12,16)+'-'+s.slice(16,20)+'-'+s.slice(20));
    }
    document.getElementById('uuid-out').value = out.join('\n');
}

// Password
function doPass(){
    var len = parseInt(document.getElementById('pass-len').value||16);
    var upper = document.getElementById('pass-upper').checked;
    var lower = document.getElementById('pass-lower').checked;
    var num = document.getElementById('pass-num').checked;
    var sym = document.getElementById('pass-sym').checked;
    var chars = '';
    if(upper) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    if(lower) chars += 'abcdefghijklmnopqrstuvwxyz';
    if(num) chars += '0123456789';
    if(sym) chars += '!@#$%^&*()-_=+[]{};:,.<>?';
    if(!chars) { document.getElementById('pass-out').value='Select at least one character type'; return; }
    var out='';
    var rnd = new Uint32Array(len);
    window.crypto.getRandomValues(rnd);
    for(var i=0;i<len;i++) out += chars[rnd[i] % chars.length];
    document.getElementById('pass-out').value = out;
}

// Initialize - show first tool
window.onload = function(){
    var first = document.querySelector('.nav-item');
    if(first) first.click();
};
</script>

</body>
</html>
